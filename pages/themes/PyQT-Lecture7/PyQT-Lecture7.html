<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>PyQT-Lecture7</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="shortcut icon" type="image/jpg" href="/PythonCourseNetIT-Slides/favicon.png"/>

	<!-- css & themes include -->
	<link rel="stylesheet" href="/PythonCourseNetIT-Slides/lib/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="/PythonCourseNetIT-Slides/outfit/css/themes/light.css" id="theme">
	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? '/PythonCourseNetIT-Slides/outfit/css/print.css' : '/PythonCourseNetIT-Slides/lib/reveal.js/css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>
	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
	<!-- CUSTOM -->
	<base target="_blank">
</head>
<body>
	<div class="reveal default center" data-transition-speed="default" data-background-transition="default">
		<div class="top_links">
			<a class="home_link" href="/PythonCourseNetIT-Slides/pages/agenda/agenda.html#DB-Lecture2" target="_top"></a>
			<span class="help_link"><i class="fa fa-question"></i></span>
			<div class="help_text">
				<div class="note">Keyboard shortcuts:</div>
				<div><span>N/Спейс</span><span>Next Slide</span></div>
				<div><span>P</span><span>Previous Slide</span></div>
				<div><span>O</span><span>Slides Overview</span></div>
				<div><span>ctrl+left click</span><span>Zoom Element</span></div>
				<div class="print-howto"><br>If you want print version => add '<code>?print-pdf</code>' <br> at the end of slides URL (remove '#' fragment) and then print. <br>
				Like: https://wwwcourses.github.io/...CourseIntro.html?print-pdf </div>
			</div>
		</div>
		<div class="footer theme_switch">
			<a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/dark.css'); return false;">Dark</a>
			<a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/light.css'); return false;">Light</a>
			<a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/projector.css'); return false;">Projector</a>
		</div>
		<div class="slides">
<!--
########################################################
##################### SLIDES START #####################
########################################################
-->
<section><h1>PyQT - Lecture 7</h1></section>
<section data-transition="zoom">
	<section class="copyright" data-transition="zoom">
		<div class="note">
			<p>Created for</p>
		</div>
		<div class="company">
			<a href="https://softwareacademy.bg//програмиране-с-python-2/">
			<img style="height:80%" src="/PythonCourseNetIT-Slides/outfit/images/logos/software-web@4x.png" alt="software-web@4x.png">
			</a>
		</div>
		<div class="author">
			<span class="note"><a href="https://www.linkedin.com/in/ivapopova/">Iva E. Popova</a>, 2021-2022,</span>
			<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
			<!-- <i class="fa fa-linkedin"></i> -->
		</div>
	</section>
</section>

<section data-min="5"><h1>Create applications with QMainWindow</h1></section>
<section><h2>Create applications with QMainWindow</h2>
	<section><h3>Get familiar with MainWindow</h3>
		<dl class="fa">
			<dt>Qt has QMainWindow and its related classes for main window management.</dt>
			<dt>QMainWindow has its own layout to which you can add QToolBars, QDockWidgets, a QMenuBar, and a QStatusBar. </dt>
			<dt>The Main Window of an application is created as instance of <a href="https://doc.qt.io/qt-5/qmainwindow.html">QMainWindow Class</a></dt>
			<dt>Main windows have either a single (SDI) or multiple (MDI) Document Interface.</dt>
			<dd>You can create MDI applications by using a <a href="https://doc.qt.io/qt-5/qmdiarea.html">QMdiArea</a> as the central widget.</dd>
		</dl><br>
		<a href="./images/mainwindowlayout.png"><img src="./images/mainwindowlayout.png" alt="./images/mainwindowlayout.png" style="height: 70vh;"></a>
	</section>
	<section><h3>MainWindow Central Widget</h3>
		<dl class="fa">
			<dt>A central widget will typically be a standard Qt widget such as a QTextEdit</dt>
			<dt>Custom widgets can also be used for advanced applications</dt>
			<dt>You set the central widget with setCentralWidget().</dt>
		</dl>
		<pre><code rel="Python" class="python">
			self.textedit = qtw.QTextEdit()
			self.setCentralWidget(self.textedit)
		</code></pre>
	</section>
	<section><h3>MenuBar</h3>
		<dl class="fa">
			<dt>A menu bar consists of a list of pull-down menu items</dt>
			<dt>QMainWindow provides an empty QMenuBar object by default.</dt>
			<dt>To get access to this menu bar, you need to call .menuBar() on your QMainWindow object.</dt>
			<dt>You add menu items with addMenu()</dt>
		</dl>
		<pre><code rel="Python" class="python">
			# get the menu bar
			menubar = self.menuBar()

			# add menu items
			file_menu = menubar.addMenu('File')
			edit_menu = menubar.addMenu('Edit')
			help_menu = menubar.addMenu('Help')
		</code></pre>
		<dl class="fa">
			<dt>The ampersand in the menu item's text sets Alt+Symbol as a shortcut for this menu.</dt>
		</dl>
		<pre><code rel="Python" class="python">
			# add menu items
			file_menu = menubar.addMenu('&File')
			edit_menu = menubar.addMenu('&Edit')
			help_menu = menubar.addMenu('&Help')
		</code></pre>
	</section>
	<section><h3>ToolBar</h3>
		<dl class="fa">
			<dt>The QToolBar class provides a movable panel that contains a set of controls.</dt>
			<dt>You add toolbars to a MainWindow with addToolBar()</dt>
			<dt>To add some toolbar buttons you can use PyQt actions, which are instances of QAction (discussed later)</dt>
		</dl>
		<pre><code rel="Python" class="python">
			toolbar = self.addToolBar('File')

			toolbar.setMovable(False)
			toolbar.setFloatable(False)
			toolbar.setAllowedAreas(
				qtc.Qt.TopToolBarArea |
				qtc.Qt.BottomToolBarArea
			)
		</code></pre>
	</section>
	<section><h3>Menu Items and ToolBar Actions</h3>
		<dl class="fa">
			<dt>In applications many common commands can be invoked via menus, toolbar buttons, and keyboard shortcuts</dt>
			<dt> Since the user expects each command to be performed in the same way, regardless of the user interface used, it is useful to represent each command as an action.</dt>
			<dt class="note">Actions can be added to menus and toolbars, and will automatically keep them in sync</dt>
			<dt>Actions can be created as independent objects, but they may also be created during the construction of menus</dt>
			<dt>A QAction may contain an icon, menu text, a shortcut, status text, "What's This?" text, and a toolti</dt>
		</dl>
		<pre><code rel="Python" class="python">
			# add actions
			open_action = file_menu.addAction('Open')
			save_action = file_menu.addAction('Save')

			# add separator
			file_menu.addSeparator()

			quit_action = file_menu.addAction('Quit', self.close)
			undo_action = edit_menu.addAction('Undo', self.textedit.undo)

			# create a QAction manually
			redo_action = qtw.QAction('Redo', self)
			redo_action.triggered.connect(self.textedit.redo)

			# Actions, which opens custom dialog
			edit_menu.addAction(redo_action)
			edit_menu.addAction('Set Font…', self.set_font)
			edit_menu.addAction('Settings…', self.show_settings)

		</code></pre>
	</section>
	<section><h3>Custom ToolBar Actions</h3>
		<dl class="fa">
			<dt>We can create a custom QAction, as well</dt>
		</dl>
		<pre><code rel="Python" class="python">
			help_action = qtw.QAction(
				self.style().standardIcon(qtw.QStyle.SP_DialogHelpButton),
				'Help',
				self,  # important to pass the parent!
				# add signal
				triggered=lambda: self.StatusBar().showMessage(
					'Sorry, no help yet!'
				)
			)
			toolbar.addAction(help_action)
		</code></pre>
	</section>
	<section><h3>Dock Widgets</h3>
		<dl class="fa">
			<dt>A dock widget is a window that can be docked into the main window</dt>
			<dt>You add dock widgets to a main window with addDockWidget()</dt>
			<dt>There are four dock widget areas as given by the Qt::DockWidgetArea enum: left, right, top, and bottom</dt>
		</dl>
		<pre><code rel="Python" class="python">
			dock = qtw.QDockWidget("Replace")
			self.addDockWidget(qtc.Qt.LeftDockWidgetArea, dock)

			# set dock widget to move and float (but not closeable)
			dock.setFeatures(
				qtw.QDockWidget.DockWidgetMovable |
				qtw.QDockWidget.DockWidgetFloatable
			)
		</code></pre>
	</section>
	<section><h3>Add widgets to Dock Widget</h3>
		<pre><code rel="Python" class="python">
			replace_widget = qtw.QWidget()
			replace_widget.setLayout(qtw.QVBoxLayout())
			dock.setWidget(replace_widget)

			self.search_text_input = qtw.QLineEdit(placeholderText='search')
			self.replace_text_input = qtw.QLineEdit(placeholderText='replace')
			search_and_replace_btn = qtw.QPushButton(
				"Search and Replace",
				clicked=self.search_and_replace
				)
			replace_widget.layout().addWidget(self.search_text_input)
			replace_widget.layout().addWidget(self.replace_text_input)
			replace_widget.layout().addWidget(search_and_replace_btn)
			replace_widget.layout().addStretch()
		</code></pre>
	</section>
	<section><h3>The Status Bar</h3>
		<dl class="fa">
			<dt><code>StatusBar</code> is a widget (displayed as horizontal bar) that is used to display status information.</dt>
			<dt>Each status indicator falls into one of three categories:</dt>
			<dd><span class="note">Temporary</span> - briefly occupies most of the status bar. Used to explain tool tip texts or menu entries, for example.</dd>
			<dd><span class="note">Normal</span> - occupies part of the status bar and may be hidden by temporary messages. Used to display the page and line number in a word processor, for example.</dd>
			<dd><span class="note">Permanent</span> - is never hidden. Used for important mode indications, for example, some applications put a Caps Lock indicator in the status bar.</dd>
		</dl>
	</section>
	<section><h3>Create Temporary status messages</h3>
		<dl class="fa">
			<dt>the showMessage() slot is used to display a temporary message:</dt>
		</dl>
		<pre><code rel="Python" class="python">
			# The long way
			#status_bar = qtw.QStatusBar()
			#self.setStatusBar(status_bar)
			#status_bar.showMessage('Welcome to My Text Editor')

			# same as above, but shorter
			self.StatusBar().showMessage('Welcome to My Text Editor')

		</code></pre>
	</section>
	<section><h3>Adding Permanent Message to StatusBar</h3>
		<dl class="fa">
			<dt>Adds the given widget permanently to this status bar</dt>
		</dl>
		<pre><code rel="Python" class="python">
			charcount_label = qtw.QLabel("chars: 0")
			self.textedit.textChanged.connect(
				lambda: charcount_label.setText( "chars: " + str(len(self.textedit.toPlainText())) )
			)
			self.StatusBar().addPermanentWidget(charcount_label)
		</code></pre>
	</section>
</section>

<section data-min="10"><h1>Add image</h1></section>
<section><h2>Add image</h2>
	<section><h3>Overview</h3>
		<dl class="fa">
			<dt>To add an image, first we must load the image using <a href="https://doc.qt.io/qt-5/qpixmap.html">QPixmap</a></dt>
			<dt>A QPixmap can easily be displayed on the screen using QLabel or one of QAbstractButton's subclasses (such as QPushButton and QToolButton). QLabel has a pixmap property, whereas QAbstractButton has an icon property.</dt>
			<dt>Optionally, we may want to resize the label according to the image dimensions.</dt>
		</dl>
	</section>
	<section><h3>Example</h3>
		<script src="https://gist.github.com/WWWCourses/60d192b3f26b2f85696a02b20497190e.js"></script>
	</section>
</section>

<section data-min="5"><h1>Style Widgets with Style Sheets</h1></section>
<section><h2>Style Widgets with Style Sheets</h2>
	<section>
		<dl class="fa">
			<dt>Qt Style Sheets support various properties, pseudo-states, and subcontrols that make it possible to customize the look of widgets.</dt>
			<dt>Reference: <a href="https://doc.qt.io/qt-5/stylesheet-reference.html#list-of-property-types">Qt Style Sheets</a></dt>
			<dt>StyleSheets can be written in separate <code>css</code> file and used as needed</dt>
		</dl>
		<pre><code rel="qWidget.css" class="css">
			QWidget {
				border: 20px solid black;
				border-radius: 10px;
				background-color: rgb(255, 255, 255);
			}
		</code></pre>
		<pre><code rel="myGUIapp.py" class="python">
			with open("qWidget.css", 'r') as fh:
				sheet = fh.read()

			widgetInstance.setStyleSheet(sheet)
		</code></pre>
	</section>
	<section><h3>Style Sheet Syntax</h3>
		<a href="./images/CSS_syntax_image.png"><img src="./images/CSS_syntax_image.png" alt="CSS_syntax_image"></a>
		<br>
		<dl class="fa">
			<dt>Reference: </dt>
			<dd><a href="https://doc.qt.io/qt-5/stylesheet-syntax.html">The Style Sheet Syntax @qt.io</a></dd>
			<dd><a href="https://www.w3schools.com/css/">CSS Tutorial @w3schools</a></dd>
		</dl>
	</section>
</section>


<!--
<section data-min="5"><h1>Add GUI feature to your app</h1></section>
<section><h2>Add GUI feature to your app</h2>
	<section><h3>Create/Clone repos</h3>
		<dl class="fa">
			<dt>Create your github repo, or clone someone's else (if you want to contribute to the project)</dt>
			<dt>References:</dt>
			<dd><a href="https://docs.github.com/en/get-started/quickstart/create-a-repo">Create a repo @docs.github.com</a></dd>
			<dd><a href="https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository-from-github/cloning-a-repository">Cloning a repository @docs.github.com</a></dd>
		</dl>
	</section>
	<section><h3>Create a branch for <code>GUI</code> of your app</h3>
		<dl class="fa">
			<dt>If you already have a working application with console IO, and you want to refactor your app to work with GUI, it's best to separate your work in a different branch.</dt>
			<pre><code rel="Terminal" class="bash">
				# make sure you're in root project folder, and type:
				git checkout -b GUI

				# your prompt should change and show the branch name (GUI)
			</code></pre>
			<dd><a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell">Git branching branches in a nutshell</a> </dd>
			<dd><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">Git Feature Branch Workflow @atlassian.com</a></dd>
		</dl>
	</section>
</section> -->


<section class="disclaimer" data-background="/PythonCourseNetIT-Slides/outfit/images/for_slides/the_end_on_sand.jpg"></section>
<!--
########################################################
##################### SLIDES END   #####################
########################################################
-->
		</div>
	</div>
	<!-- Custom processing -->
	<script src="/PythonCourseNetIT-Slides/outfit/js/slides.js"></script>
	<!-- external scripts -->
	<script src="/PythonCourseNetIT-Slides/lib/reveal.js/lib/js/head.min.js"></script>
	<script src="/PythonCourseNetIT-Slides/lib/reveal.js/js/reveal.js"></script>
	 <!-- init reveal -->
	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		var highlightjsTabSize = '  ';
		Reveal.initialize({
			controls: true,
			progress: true,
			slideNumber: 'c/t',
			keyboard: true,
			history: true,
			center: true,
			width: 1920,
			height: 1080,
			// Bounds for smallest/largest possible scale to apply to content
			// minScale: .5,
			maxScale: 1,
			// slide transition
			transition: 'concave', // none/fade/slide/convex/concave/zoom
			// Factor of the display size that should remain empty around the content
			margin: 0.1,
			// shift+left click to zoom in/out element
			zoomKey: 'ctrl',
			// theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
			// transition: Reveal.getQueryHash().transition || 'default'
			// Optional reveal.js plugins
			dependencies: [
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.configure({tabReplace: highlightjsTabSize}); hljs.initHighlightingOnLoad(); } },
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/zoom-js/zoom.js', async: true },
				{ src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/notes/notes.js', async: true }
			]
		});
	</script>
</body>
</html>
