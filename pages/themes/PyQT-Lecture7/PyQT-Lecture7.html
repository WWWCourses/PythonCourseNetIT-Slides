<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>PyQt-Lecture7</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="shortcut icon" type="image/jpg" href="/PythonCourseNetIT-Slides/favicon.png"/>

    <!-- css & themes include -->
    <link rel="stylesheet" href="/PythonCourseNetIT-Slides/lib/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="/PythonCourseNetIT-Slides/outfit/css/themes/light.css" id="theme">
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? '/PythonCourseNetIT-Slides/outfit/css/print.css' : '/PythonCourseNetIT-Slides/lib/reveal.js/css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <!-- CUSTOM -->
    <base target="_blank">
</head>
<body>
    <div class="reveal default center" data-transition-speed="default" data-background-transition="default">
        <div class="top_links">
            <a class="home_link" href="/PythonCourseNetIT-Slides/pages/agenda/agenda.html#DB-Lecture2" target="_top"></a>
            <span class="help_link"><i class="fa fa-question"></i></span>
            <div class="help_text">
                <div class="note">Keyboard shortcuts:</div>
                <div><span>N/Спейс</span><span>Next Slide</span></div>
                <div><span>P</span><span>Previous Slide</span></div>
                <div><span>O</span><span>Slides Overview</span></div>
                <div><span>ctrl+left click</span><span>Zoom Element</span></div>
                <div class="print-howto"><br>If you want print version => add '<code>?print-pdf</code>' <br> at the end of slides URL (remove '#' fragment) and then print. <br>
                Like: https://wwwcourses.github.io/...CourseIntro.html?print-pdf </div>
            </div>
        </div>
        <div class="footer theme_switch">
            <a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/dark.css'); return false;">Dark</a>
            <a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/light.css'); return false;">Light</a>
            <a href="#" onclick="document.getElementById('theme').setAttribute('href','/PythonCourseNetIT-Slides/outfit/css/themes/projector.css'); return false;">Projector</a>
        </div>
        <div class="slides">
<!--
########################################################
##################### SLIDES START #####################
########################################################
-->
<section class="main-section-title"><h1>PyQt - Lecture 7 : QTableWidget</h1></section>
<section data-transition="zoom">
    <section class="copyright" data-transition="zoom">
        <div class="note">
            <p>Created for</p>
        </div>
        <div class="company">
            <a href="https://softwareacademy.bg/">
            <img style="height:80%" src="/PythonCourseNetIT-Slides/outfit/images/logos/software-web@4x.png" alt="software-web@4x.png">
            </a>
        </div>
        <div class="author">
            <span class="note"><a href="https://www.linkedin.com/in/ivapopova/">Iva E. Popova</a>, 2022-2023,</span>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
            <!-- <i class="fa fa-linkedin"></i> -->
        </div>
    </section>
</section>

<section class="main-section-title"><h1>PyQt Tables</h1></section>
<section class="sub-sections"><h2>PyQt Tables</h2>
    <section><h3>QTableWidget Overview</h3>
        <dl class="fa">
            <dt>QTableWidget is a widget that provides a table view for displaying and editing data.</dt>
            <dt>The table content can be generated from different types of storage, such as:</dt>
            <dd>two-dimensional lists</dd>
            <dd>CSV files</dd>
            <dd>JSON files</dd>
            <dd>database tables</dd>
        </dl>
    </section>
    <section><h3>QTableWidget Basic Methods</h3>
        <table>
            <tr><th>Method Name</th><th>Purpose</th></tr>
            <tr>
                <td>setRowCount()</td>
                <td>define the number of rows.</td>
            </tr>
            <tr>
                <td>setColumnCount()</td>
                <td>define the number of columns.</td>
            </tr>
            <tr>
                <td>setHorizontalHeaderLabels()</td>
                <td>set the header labels of the table.</td>
            </tr>
            <tr>
                <td>setItem()</td>
                <td>set the cell value of the table.</td>
            </tr>
            <tr>
                <td>resizeColumnsToContents()</td>
                <td>resize the columns of the table based on the content.</td>
            </tr>
            <tr>
                <td>resizeRowsToContents()</td>
                <td>resize the rows of the table based on the content.</td>
            </tr>
            <tr>
                <td>setMinimumWidth()</td>
                <td>set the minimum width of the table.</td>
            </tr>
            <tr>
                <td>setMinimumHeight()</td>
                <td>set the minimum height of the table.</td>
            </tr>
            <tr>
                <td>show()</td>
                <td>display the table.</td>
            </tr>
        </table>
    </section>
    <section><h3>QTableWidgetItem</h3>
        <dl class="fa">
            <dt>Table items are used to hold pieces of information for table widgets.</dt>
            <dt>Items usually contain text, icons, or checkboxes</dt>
            <dt>Reference: <a href="https://doc.qt.io/qt-6/qtablewidgetitem.html#details">QTableWidgetItem</a></dt>
        </dl>
    </section>
    <section id="CreatingQTableWidget"><h3>Create Simple Table - Example 1</h3>
        <dl class="fa" style="min-width:80vw">
            <pre><code rel="Python" class="python" style="min-height: 90vh;">
                from PyQt6.QtWidgets import QApplication, QTableWidget, QTableWidgetItem

                app = QApplication([])

                table = QTableWidget()
                table.setRowCount(2)
                table.setColumnCount(2)
                table.setItem(0, 0, QTableWidgetItem("Item 1"))
                table.setItem(0, 1, QTableWidgetItem("Item 2"))
                table.setItem(1, 0, QTableWidgetItem("Item 3"))
                table.setItem(1, 1, QTableWidgetItem("Item 4"))
                table.show()

                app.exec()
            </code></pre>
        </dl>
    </section>
    <section><h3>Create Simple Table - Example 2</h3>

        <pre><code rel="simle_table_static_values.py" class="python" style="min-height: 100vh;">
            # simle_table_static_values.py
            import sys
            from PyQt6 import QtWidgets as qtw
            from PyQt6 import QtCore as qtc
            from PyQt6 import QtGui as qtg


            class MainWindow(qtw.QWidget):

                def __init__(self , *args, **kwargs):
                    super().__init__(*args, **kwargs)

                    self.setWindowTitle('')
                    self.show()

                    self.uiCreateTable()


                def uiCreateTable(self):
                    rows = 4
                    cols = 3

                    # init table
                    table = qtw.QTableWidget(self)
                    table.setRowCount(rows)
                    table.setColumnCount(cols)
                    table.setHorizontalHeaderLabels(['Heading1', 'Heading2', 'Heading3'])

                    # set table values
                    for row in range(rows):
                        for col in range(cols):
                            table.setItem(row, col, qtw.QTableWidgetItem(f'Cell {row+1},{col+1}'))

                    # resize cells to content:
                    table.resizeColumnsToContents()
                    table.resizeRowsToContents()

                    table.show()


            if __name__ == '__main__':
                app = qtw.QApplication(sys.argv)

                window = MainWindow()

                sys.exit(app.exec())

        </code></pre>
    </section>
    <section><h3>Custom Context Menu</h3>
        <dl class="fa" style="min-width:80vw">
            <dt>Context menus are usually invoked by right-clicking or some special keyboard key.</dt>
            <dt>Adding a custom context menu to QTableWidget allows users to perform actions easily with a right-click.</dt>
            <dd>This enhances user experience by providing quick access to common functions, such as adding or removing rows.</dd>
            <dt>To implement a custom context menu, set the context menu policy of the table widget.</dt>
            <dd>This allows the table to respond to custom context menu requests.</dd>
            <dt>Connect the custom context menu request signal to a function that creates and displays the menu.</dt>
            <dd>In this function, you can add actions like "Add Row" and "Remove Row" that perform the corresponding operations on the table.</dd>
        </dl>
    </section>
    <section><h3>Context Menu Policy</h3>
        <dl class="fa" style="min-width:80vw">
            <dt>In PyQt, the <strong>context menu policy</strong> determines how a widget responds to right-click events, specifically regarding the display of a context menu.</dt>
            <dt><strong>You set the context menu policy</strong> using <code>setContextMenuPolicy()</code>, passing it one of several predefined values from <code>Qt.ContextMenuPolicy</code>. Common options include:</dt>
            <ul>
                <li><code>NoContextMenu</code>: The widget does not show a context menu on right-click.</li>
                <li><code>ActionsContextMenu</code>: The default actions of the widget (if any) will be displayed in a context menu.</li>
                <li><code>CustomContextMenu</code>: Allows you to create a custom context menu by connecting the <code>customContextMenuRequested</code> signal to a function that generates and displays the menu.</li>
            </ul>
            <dt><strong>When the context menu policy is set to CustomContextMenu</strong>, the widget emits the <code>customContextMenuRequested</code> signal.</dt>
            <dd>This signal provides the position of the cursor where the context menu should appear, allowing you to display the menu at the correct location.</dd>
            <dt><strong>This approach allows for a tailored user experience</strong>, enabling quick access to functions relevant to the specific widget's context.</dt>
        </dl>
    </section>
    <section><h3>Custom Context Menu - Example</h3>
        <pre><code rel="Python" class="python" style="min-height: 1vh;">
            # custom_context_menu_actions.py
            import sys
            from PyQt6 import QtWidgets as qtw
            from PyQt6 import QtCore as qtc
            from PyQt6 import QtGui as qtg


            class MainWindow(qtw.QWidget):

                def __init__(self, *args, **kwargs):
                    super().__init__(*args, **kwargs)

                    self.setWindowTitle('Custom context menu actions demo')
                    self.setGeometry(500, 200, 400, 300)  # Set the window size

                    self.createTable()  # Initialize the table UI

                def createTable(self):
                    rows = 4
                    cols = 3

                    # Initialize the table
                    self.table = qtw.QTableWidget(self)
                    self.table.setRowCount(rows)
                    self.table.setColumnCount(cols)
                    self.table.setHorizontalHeaderLabels(['Heading1', 'Heading2', 'Heading3'])

                    # Set table values
                    for row in range(rows):
                        for col in range(cols):
                            self.table.setItem(row, col, qtw.QTableWidgetItem(f'Cell {row + 1},{col + 1}'))

                    # Resize cells to fit content
                    self.table.resizeColumnsToContents()
                    self.table.resizeRowsToContents()

                    # Set the context menu policy to allow for custom context menus in this widget
                    self.table.setContextMenuPolicy(qtc.Qt.ContextMenuPolicy.CustomContextMenu)

                    # Connect the custom context menu requested signal to the context_actions method
                    self.table.customContextMenuRequested.connect(self.context_actions)

                def context_actions(self, pos):
                    menu = qtw.QMenu()

                    # Get the index of the currently selected row
                    current_row = self.table.currentRow()

                    # Add action to insert a new row
                    menu.addAction("Add Row", lambda: self.table.insertRow(current_row if current_row >= 0 else self.table.rowCount()))

                    # Add action to remove the currently selected row
                    menu.addAction("Remove Row", lambda: self.table.removeRow(current_row) if current_row >= 0 else None)

                    # Execute the menu at the cursor position
                    menu.exec(self.table.viewport().mapToGlobal(pos))


            if __name__ == '__main__':
                app = qtw.QApplication(sys.argv)

                window = MainWindow()
                window.show()  # Show the main window

                sys.exit(app.exec())
        </code></pre>
    </section>
</section>

<section class="main-section-title" id="stylingTables"><h1>Styling tables</h1></section>
<section class="sub-sections"><h2>Styling tables</h2>
    <section id="QTableWidget_Styling"><h3>QTableWidget Common Selectors</h3>
        <dl class="fa" style="min-width:80vw">
            <dt><code>QTableWidget</code> - selects the entire QTableWidget.</dt>
            <dt><code>QHeaderView::section</code> - selects the section headers in the QHeaderView.</dt>
            <dt><code>QTableView::item</code> - selects all items in the QTableView.</dt>
            <dt><code>QTableView::item:alternate</code> - selects alternate items in the QTableView.</dt>
            <dd>You must set <code>table.setAlternatingRowColors(True)</code> to have efect.</dd>
            <dt><code>QTableView::item:selected</code> - selects selected items in the QTableView.</dt>
            <dt><code>QTableView::item:hover</code> - selects hovered items in the QTableView.</dt>
        </dl>
    </section>

    <section><h3>Example</h3>
        <pre><code rel="QSS" class="css" style="min-height: 90vh;">
            /* -------------------------- QTableWidget Styling -------------------------- */

            /* Style for the QTableWidget */
            QTableWidget {
                border: 2px solid lavender;
            }

            /* Style for the section headers of the QHeaderView */
            QHeaderView::section {
                background-color: forestgreen;
                color: white;
            }

            /* Style for the items in the QTableView */
            QTableView::item {
                background-color: lightblue;
                color: black;
            }

            /* Style for alternate items in the QTableView */
            QTableView::item:alternate {
                background-color: lightcoral;
                color: black;
            }

            /* Style for selected items in the QTableView */
            QTableView::item:selected {
                background-color: lightgoldenrodyellow;
                color: black;
            }

            /* Style for hovered items in the QTableView */
            QTableView::item:hover {
                background-color: lightsalmon;
                color: black;
            }
        </code></pre>
    </section>
    <section><h3>Resize rows and columns</h3>
        <dl class="fa" style="min-width:80vw">
            <dt>To resize the rows and columns use the <code>horizontalHeader().setSectionResizeMode()</code> and <code>verticalHeader().setSectionResizeMode()</code> methods. </dt>
            <dt><code>setSectionResizeMode()</code> can take the following values from QHeaderView.ResizeMode:</dt>
            <dd><strong>ResizeToContents:</strong> Adjusts the section size to fit the content.</dd>
            <dd><strong>Stretch:</strong> Stretches the section to fill the available space.</dd>
            <dd><strong>Fixed:</strong> Sets a fixed size for the section, which won't change automatically.</dd>
            <dd><strong>Interactive:</strong> Allows the user to resize the section manually.</dd>
            <dd><strong>Custom:</strong> Enables custom resize behavior defined by the user.</dd>
        </dl>
        <pre><code rel="Python" class="python" style="min-height: 1vh;">
            table.horizontalHeader().setSectionResizeMode(qtw.QHeaderView.ResizeMode.Stretch)
            table.verticalHeader().setSectionResizeMode(qtw.QHeaderView.ResizeMode.Stretch)
        </code></pre>
    </section>
    <section id="Task_StyledTableWithCustomActions"><h3>Task: </h3>
        <dl class="fa">
            <dt>Apply styles to table and create custom context menu actions for adding a row above/bellow the selected row. </dt>
            <dt>Try to make your table to look and behave as close as possible to the example in gif bellow</dt>
        </dl>
        <a href="./images/TASK_simple_table_and_styles.gif" title="click for bigger image"><img src="./images/TASK_simple_table_and_styles.gif" alt="TASK_simple_table_and_styles.gif" style="width: 50%;"></a>
    </section>
</section>

<section data-min="50" class="main-section-title"><h1>Displaying SQL Data With PyQt</h1></section>
<section class="sub-sections"><h2>Displaying SQL Data With PyQt</h2>
    <section><h3>Example</h3>
        <pre><code rel="Python" class="python" style="min-height: 90vh;">
            import sys

            from PyQt5.QtSql import QSqlDatabase, QSqlQuery
            from PyQt5.QtWidgets import (
                QApplication,
                QMainWindow,
                QMessageBox,
                QTableWidget,
                QTableWidgetItem,
            )
            from lib.db import DB

            class Radiotheaters(QMainWindow):
                def __init__(self, parent=None):
                    super().__init__(parent)
                    self.setWindowTitle("QTableView Example")
                    self.resize(450, 250)

                    self.view = QTableWidget()
                    self.view.setColumnCount(4)
                    self.view.setHorizontalHeaderLabels(["ID", "Title", "Content", "Date"])

                    query = QSqlQuery("SELECT id, title, content, date FROM radiotheaters")

                    while query.next():
                        rows = self.view.rowCount()

                        self.view.setRowCount(rows + 1)
                        self.view.setItem(rows, 0, QTableWidgetItem(str(query.value(0))))
                        self.view.setItem(rows, 1, QTableWidgetItem(query.value(1)))
                        self.view.setItem(rows, 2, QTableWidgetItem(query.value(2)))
                        self.view.setItem(rows, 3, QTableWidgetItem(query.value(3)))

                    self.view.resizeColumnsToContents()
                    self.setCentralWidget(self.view)


            if __name__ == '__main__':
                app = QApplication(sys.argv)
                db = DB()

                win = Radiotheaters()
                win.show()
                sys.exit(app.exec())
        </code></pre>
    </section>
</section>

<section data-min="10" class="main-section-title"><h1>Introduction to Model/View Programming</h1></section>
<section class="sub-sections"><h2>Introduction to Model/View Programming</h2>
    <section><h3>Overview</h3>
        <dl class="fa">
            <dt>PyQt utilizes a model/view architecture for structuring GUI Applications with data, which is similar to MVC (Model-View-Controller) software design pattern</dt>
            <dt>MVC consists of three kinds of objects. The Model is the application object, the View is its screen presentation, and the Controller defines the way the user interface reacts to user input. Before MVC, user interface designs tended to lump these objects together. MVC decouples them to increase flexibility and reuse.</dt>
        </dl>
        <a href="./images/MVC-Process.svg.png"><img src="./images/MVC-Process.svg.png" alt="MVC-Process.svg.png" style="height: 50vh;"></a>
    </section>

    <section><h3>The Components of the Model/View Architecture in QT Framework</h3>
        <dl class="fa">
            <dt><span class="note">Model</span> - The class that communicates with the data source, accessing
                the data, and provides a point of connection between the data and the view and delegate.</dt>
            <dt><span class="note">View</span> - The class that is responsible for displaying the data to the
                user, either in list, table, or tree formats, and for retrieving items of data from the model using model indexes. The view also has similar functionality to the controller in the MVC pattern, which handles the input from a user’s interaction with items displayed in the view.
            </dt>
            <dt><span class="note">Delegate</span> - The class that is in charge of painting items and providing editors in the view. The delegate also communicates back to the model if an item has been edited.</dt>
        </dl>
    </section>
    <section><h3>Abstract Classes</h3>
        <dl class="fa">
            <dt>An abstract class is a class that is designed to be specifically used as a base class. It provides functionality and default implementation of features.</dt>
            <dt>In Qt there are abstract classes to create custom models, views, or delegates.</dt>
            <dt>Models - All models are based on the QAbstractItemModel class, defining the interface used by both views and delegates to access data, and can be used to handle lists, tables, or trees. Data can come form different sources, including Python data structures, separate classes, files, or databases.</dt>
            <dd>Reference: <a href="https://doc.qt.io/qt-5/model-view-programming.html#model-classes">Model Classes</a></dd>
            <dt>Views - All views are based on QAbstractItemView and are used to display data items from a data source, including QListView, QTableView, and QTreeView.</dt>
            <dd>Reference: <a href="https://doc.qt.io/qt-5/model-view-programming.html#view-classes">View Classes</a></dd>
            <dt>Delegates - The base class is QAbstractItemDelegate, responsible for drawing items from the model and providing an editor widget for modifying items.</dt>
            <dd>Reference: <a href="https://doc.qt.io/qt-5/model-view-programming.html#delegate-classes">Delegate Classes</a></dd>
        </dl>
    </section>
    <section><h3>Model/View Communication</h3>
        <dl class="fa">
            <dt>Models, views, and delegates communicate with each other using signals and slots:</dt>
            <dd>Signals from the model inform the view about changes to the data held by the data source.</dd>
            <dd>Signals from the view provide information about the user's interaction with the items being displayed.</dd>
            <dd>Signals from the delegate are used during editing to tell the model and view about the state of the editor.</dd>
        </dl>
    </section>
</section>

<section data-min="10" class="main-section-title"><h1>Model-View Demo</h1></section>
<section class="sub-sections"><h2>Model-View Demo</h2>
    <section><h3>The data</h3>
        <dl class="fa">
            <dt>Lets have some data in a csv file</dt>
        </dl>
        <pre><code rel="parts.csv" class="csv">
            id;name;category;price
            1;Part1;categoryA;1.23
            2;Part2;categoryA;1.43
            3;Part3;categoryB;4.65
        </code></pre>
    </section>
    <section><h3>Load the data</h3>
        <dl class="fa">
            <dt>We will use csv.reader() to read header and rows form a CSV file</dt>
            <dt>Items must be constructed before adding them to the table.</dt>
        </dl>
        <pre><code rel="Python" class="python">
            def loadCSVFile(self):
                file_name = "./parts.csv"

                with open(file_name, "r") as csv_f:
                    reader = csv.reader(csv_f, delimiter=';')
                    header_labels = next(reader)
                    self.model.setHorizontalHeaderLabels(header_labels)

                    for i, row in enumerate(csv.reader(csv_f,delimiter=';')):
                        items = [qtg.QStandardItem(item) for item in row]
                        self.model.insertRow(i, items)
        </code></pre>
    </section>
    <section><h3></h3>
        <dl class="fa">
            <dt>For the Model we will use QStandardItemModel class</dt>
            <dt>For the view => QTableView class</dt>
            <dt><a href="https://doc.qt.io/qt-5/qabstractitemview.html#SelectionMode-enum">SelectionMode() enum</a> handles how the view responds to users’ selections.</dt>
            <dt>To set up the view to display items in the model, you simply need to call the
                setModel() method.</dt>
        </dl>
        <pre><code rel="Python" class="python" style="min-height: 50vh;">
            def setupModelView(self):
                # initialize the model
                self.model = QStandardItemModel()

                # setup table view
                table_view = QTableView()
                table_view.SelectionMode(3)
                # set up the view to display items in the model
                table_view.setModel(self.model)

                # Set initial row and column values
                self.model.setRowCount(3)
                self.model.setColumnCount(4)

                # load data
                self.loadCSVFile()

                v_box = QVBoxLayout()
                v_box.addWidget(table_view)
                self.setLayout(v_box)
        </code></pre>
    </section>
</section>

<section data-min="50" class="main-section-title"><h1>PyQt: working With SQL</h1></section>
<section class="sub-sections"><h2>PyQt: working With SQL</h2>
    <section><h3>PyQt has classes for working with relational database</h3>
        <dl class="fa">
            <dt>In QT we can use QSqlDatabase to connect to databases and QSqlQuery for creating queries</dt>
            <dt>Qt offers three higher-level classes for accessing databases. These classes are <code>QSqlQueryModel</code>, <code>QSqlTableModel</code>, and <code>QSqlRelationalTableModel</code>.</dt>
            <dd>Reference: <a href="https://doc.qt.io/qt-5/sql-model.html">Using the SQL Model Classes</a></dd>
        </dl>
    </section>
    <section><h3>PyQt SQLite Demo</h3>
        <p>View code in <a href="https://gist.github.com/WWWCourses/17e7d9ec8b4ff322d783006d4c2bfa53">Gist</a></p>
        <script src="https://gist.github.com/WWWCourses/17e7d9ec8b4ff322d783006d4c2bfa53.js"></script>
    </section>
    <section><h3>Model View Demo</h3>
        <p>View code in <a href="https://gist.github.com/WWWCourses/05613c170ae6c10983ea5caac899a4ab">Gist</a></p>
        <p>Note, that to load the data, you must have the <a href="./slides_examples/ModelViewDemo/carparts.db">carparts.db</a></p>
        <script src="https://gist.github.com/WWWCourses/05613c170ae6c10983ea5caac899a4ab.js"></script>
    </section>
    <!-- <section><h3>Create  ManageUserDB class</h3>
        <pre><code rel="manage_user_db.py" class="python" style="min-height: 80vh;">
            import sys, random
            from PyQt5.QtSql import QSqlDatabase, QSqlQuery

            class ManageUserDB:
                def __init__(self):
                    # Create connection to database. If db file does not exist,
                    # a new db file will be created.
                    database = QSqlDatabase.addDatabase("QSQLITE")
                    database.setDatabaseName("./users.db")
                    if not database.open():
                        print("Unable to open data source file.")
                        sys.exit(1) # Error code 1 - signifies error

                    self.query = QSqlQuery()

                    self.createTables()
        </code></pre>
    </section> -->
    <!-- <section><h3>Create User and Orders Table</h3>
        <pre><code rel="manage_user_db.py" class="python">
            def createTables(self):
                self.query.exec_("DROP TABLE orders")
                self.query.exec_("DROP TABLE users")

                # Create users table
                self.query.exec_("""CREATE TABLE users (
                                id INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL,
                                first_name VARCHAR(30) NOT NULL,
                                last_name VARCHAR(30) NOT NULL,
                                email VARCHAR(40) NOT NULL,
                                order_id VARCHAR(20) REFERENCES orders(id))
                                """)

                # Positional binding to insert records into the database
                self.query.prepare("""INSERT INTO
                                    users (first_name, last_name, email, order_id)
                                    VALUES (?, ?, ?, ?)
                                """)

                first_names = ["Maria", "Ivan", "Stoyan"]
                last_names = ["Marinova", "Ivanov", "Stoyanov"]

                orders = {
                    "1":"TV",
                    "2":"mobile phone"
                }
                order_codes = list(orders.keys())
                order_names = list(orders.values())

                # Add the values to the query to be inserted in users
                for f_name in first_names:
                    l_name = last_names.pop()
                    email = (f"{l_name}_{f_name[0].lower()}@abv.bg")

                    order_id = random.choice(order_codes)

                    self.query.addBindValue(f_name)
                    self.query.addBindValue(l_name)
                    self.query.addBindValue(email)
                    self.query.addBindValue(order_id)
                    self.query.exec_()

                # Create the orders table
                order_query = QSqlQuery()
                order_query.exec_("""CREATE TABLE orders (
                                id INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL,
                                order VARCHAR(20) NOT NULL)""")

                order_query.prepare("INSERT INTO orders (order) VALUES (?)")
                # Add the values to the query to be inserted in orders
                for name in order_names:
                    order_query.addBindValue(name)
                    order_query.exec_()
                print("[INFO] Database successfully created.")

        </code></pre>
    </section> -->
</section>


<section class="disclaimer end-slide"></section>
<!--
########################################################
##################### SLIDES END   #####################
########################################################
-->
        </div>
    </div>
    <!-- Custom processing -->
    <script src="/PythonCourseNetIT-Slides/outfit/js/slides.js"></script>
    <!-- external scripts -->
    <script src="/PythonCourseNetIT-Slides/lib/reveal.js/lib/js/head.min.js"></script>
    <script src="/PythonCourseNetIT-Slides/lib/reveal.js/js/reveal.js"></script>
     <!-- init reveal -->
    <script>
        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        var highlightjsTabSize = '  ';
        Reveal.initialize({
            controls: true,
            progress: true,
            slideNumber: 'c/t',
            keyboard: true,
            history: true,
            center: true,
            width: 1920,
            height: 1280,
            // Bounds for smallest/largest possible scale to apply to content
            // minScale: .5,
            maxScale: 1,
            // slide transition
            transition: 'concave', // none/fade/slide/convex/concave/zoom
            // Factor of the display size that should remain empty around the content
            margin: 0.1,
            // shift+left click to zoom in/out element
            zoomKey: 'ctrl',
            // theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            // transition: Reveal.getQueryHash().transition || 'default'
            // Optional reveal.js plugins
            dependencies: [
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.configure({tabReplace: highlightjsTabSize}); hljs.initHighlightingOnLoad(); } },
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/zoom-js/zoom.js', async: true },
                { src: '/PythonCourseNetIT-Slides/lib/reveal.js/plugin/notes/notes.js', async: true }
            ]
        });
    </script>
</body>
</html>
